<!-- index.html -->
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Universo Geekistico - Início</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>Universo Geekistico</h1>
        <h2>Início</h2>
        <div id="postagens">
            <!-- as postagens serão carregadas aqui via JavaScript -->
        </div>
        <a href="postagemnova.html">Nova Postagem</a>
    </div>
    <script src="script.js"></script>
    <script>
        // carregar as postagens do arquivo JSON
        function carregarPostagens() {
            // criar um objeto XMLHttpRequest para fazer a requisição ao servidor
            var xhr = new XMLHttpRequest();
            xhr.open("GET", "postagens.json", true);
            xhr.onload = function() {
                if (xhr.status == 200) {
                    // se a resposta do servidor for OK, obter o array de postagens
                    var postagens = JSON.parse(xhr.responseText);

                    // obter o elemento onde as postagens serão exibidas
                    var divPostagens = document.getElementById("postagens");

                    // limpar o conteúdo da div
                    divPostagens.innerHTML = "";

                    // percorrer o array de postagens
                    for (var i = 0; i < postagens.length; i++) {
                        // obter os dados da postagem atual
                        var titulo = postagens[i].titulo;
                        var imagem = postagens[i].imagem;
                        var texto = postagens[i].texto;

                        // criar os elementos HTML para exibir a postagem
                        var h3 = document.createElement("h3");
                        h3.textContent = titulo;

                        var img = document.createElement("img");
                        img.src = imagem;
                        img.alt = titulo;

                        var p = document.createElement("p");
                        p.textContent = texto;

                        var hr = document.createElement("hr");

                        // adicionar os elementos na div de postagens
                        divPostagens.appendChild(h3);
                        divPostagens.appendChild(img);
                        divPostagens.appendChild(p);
                        divPostagens.appendChild(hr);
                    }
                } else {
                    // se a resposta do servidor for diferente de OK, mostrar uma mensagem de erro
                    alert("Ocorreu um erro ao carregar as postagens. Por favor, tente novamente.");
                }
            };
            xhr.send();
        }

        // chamar a função quando a página for carregada
        window.onload = carregarPostagens;
    </script>
</body>
</html>
